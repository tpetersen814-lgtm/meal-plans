<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 2 Meal Plan</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c5f2d;
            margin-bottom: 10px;
            font-size: 2em;
        }
        
        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .nav-button {
            padding: 10px 20px;
            background-color: #2c5f2d;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        
        .nav-button:hover {
            background-color: #1f4420;
        }
        
        .nav-button.active {
            background-color: #1f4420;
        }
        
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        .meal-day {
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .meal-header {
            background-color: #e8f5e9;
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s;
        }
        
        .meal-header:hover {
            background-color: #c8e6c9;
        }
        
        .meal-header h2 {
            color: #2c5f2d;
            font-size: 1.3em;
        }
        
        .meal-meta {
            color: #666;
            font-size: 0.9em;
        }
        
        .no-cook-badge {
            display: inline-block;
            background-color: #ff9800;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .expand-icon {
            font-size: 1.5em;
            color: #2c5f2d;
            transition: transform 0.3s;
        }
        
        .meal-day.expanded .expand-icon {
            transform: rotate(180deg);
        }
        
        .meal-content {
            display: none;
            padding: 20px;
            background-color: white;
        }
        
        .meal-day.expanded .meal-content {
            display: block;
        }
        
        .meal-content h3 {
            color: #2c5f2d;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .meal-content h3:first-child {
            margin-top: 0;
        }
        
        .meal-content h4 {
            color: #2c5f2d;
            margin-top: 15px;
            margin-bottom: 8px;
            font-size: 1.05em;
        }
        
        .meal-content ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .meal-content li {
            margin-bottom: 5px;
        }
        
        .meal-content ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .meal-content ol li {
            margin-bottom: 10px;
        }
        
        .baby-note {
            background-color: #fff3e0;
            padding: 15px;
            border-left: 4px solid #ff9800;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .baby-note strong {
            color: #e65100;
        }
        
        .storage-tip {
            background-color: #e3f2fd;
            padding: 15px;
            border-left: 4px solid #2196f3;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .storage-tip strong {
            color: #1565c0;
        }
        
        .cooking-mode-button {
            margin-top: 15px;
            padding: 12px 24px;
            background-color: #4caf50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: background-color 0.3s;
            width: 100%;
        }
        
        .cooking-mode-button:hover {
            background-color: #45a049;
        }
        
        /* Cooking Mode Styles */
        .cooking-mode-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            z-index: 1000;
            overflow: hidden;
        }
        
        .cooking-mode-overlay.active {
            display: flex;
            flex-direction: column;
        }
        
        .cooking-mode-header {
            background-color: #2c5f2d;
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .cooking-mode-title {
            font-size: 1.2em;
            font-weight: bold;
        }
        
        .close-cooking-mode {
            background: none;
            border: none;
            color: white;
            font-size: 1.5em;
            cursor: pointer;
            padding: 5px 10px;
        }
        
        .cooking-mode-progress {
            background-color: #e8f5e9;
            padding: 10px 20px;
            text-align: center;
            color: #2c5f2d;
            font-weight: bold;
        }
        
        .cooking-mode-content {
            flex: 1;
            overflow-y: auto;
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .cooking-step {
            display: none;
        }
        
        .cooking-step.active {
            display: block;
        }
        
        .step-ingredients {
            background-color: #fff3e0;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
        }
        
        .step-ingredients h3 {
            color: #e65100;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .step-ingredients ul {
            list-style: none;
            padding: 0;
        }
        
        .step-ingredients li {
            padding: 8px 0;
            font-size: 1.1em;
            border-bottom: 1px solid #ffe0b2;
        }
        
        .step-ingredients li:last-child {
            border-bottom: none;
        }
        
        .step-instruction {
            font-size: 1.3em;
            line-height: 1.8;
            color: #333;
        }
        
        .cooking-mode-navigation {
            display: flex;
            gap: 10px;
            padding: 20px;
            background-color: #f5f5f5;
            border-top: 1px solid #ddd;
        }
        
        .cooking-nav-button {
            flex: 1;
            padding: 15px;
            font-size: 1.1em;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .cooking-nav-button.prev {
            background-color: #e0e0e0;
            color: #333;
        }
        
        .cooking-nav-button.prev:hover:not(:disabled) {
            background-color: #d0d0d0;
        }
        
        .cooking-nav-button.next {
            background-color: #4caf50;
            color: white;
        }
        
        .cooking-nav-button.next:hover:not(:disabled) {
            background-color: #45a049;
        }
        
        .cooking-nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        @media print {
            .nav-buttons {
                display: none;
            }
            
            .page {
                display: block !important;
            }
            
            .meal-content {
                display: block !important;
            }
            
            .expand-icon {
                display: none;
            }
            
            .cooking-mode-button {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Week 2 Meal Plan</h1>
        <p class="subtitle">Vegetarian dinners with leftovers for lunch | 4-5 servings per meal</p>
        
        <div class="nav-buttons">
            <button class="nav-button active" onclick="showPage('meals')">Meal Plan</button>
            <button class="nav-button" onclick="showPage('grocery')">Shopping List</button>
        </div>
        
        <!-- MEAL PLAN PAGE -->
        <div id="meals" class="page active">
            
            <!-- MEAL 1: NO-COOK -->
            <div class="meal-day" data-meal="meal1">
                <div class="meal-header" onclick="toggleMeal(this)">
                    <div>
                        <h2>Meal 1: Mediterranean Mezze Platter <span class="no-cook-badge">‚ö° NO COOKING</span></h2>
                        <div class="meal-meta">Serves 4-5 | Time: 15 minutes assembly</div>
                    </div>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="meal-content">
                    <p>A beautiful, no-cook Mediterranean spread with hummus, fresh vegetables, olives, cheese, pita, and more. Perfect for power outages or hot days!</p>
                    
                    <h3>Ingredients</h3>
                    <ul>
                        <li>2 containers (10 oz each) hummus (plain or flavored varieties)</li>
                        <li>1 container (8 oz) tzatziki sauce</li>
                        <li>1 container (7 oz) baba ganoush (or extra hummus)</li>
                        <li>8 oz feta cheese, cubed</li>
                        <li>1 cup kalamata olives</li>
                        <li>1 cup cherry tomatoes, halved</li>
                        <li>2 cucumbers, sliced into rounds or sticks</li>
                        <li>2 bell peppers (mixed colors), sliced into strips</li>
                        <li>2 cups baby carrots</li>
                        <li>1 package (16 oz) pita bread or pita chips</li>
                        <li>8 oz marinated artichoke hearts, drained</li>
                        <li>1 cup roasted red peppers (jarred), sliced</li>
                        <li>1 cup dolmas (stuffed grape leaves) - optional</li>
                        <li>¬Ω cup extra virgin olive oil</li>
                        <li>2 tablespoons za'atar or dried oregano</li>
                        <li>1 lemon, cut into wedges</li>
                        <li>Fresh herbs (parsley, mint) for garnish</li>
                    </ul>
                    
                    <h3>Instructions</h3>
                    <ol>
                        <li>Choose a large serving platter or cutting board as your base.</li>
                        <li>Place the three dips (hummus, tzatziki, baba ganoush) in small bowls around the platter.</li>
                        <li>Arrange the feta cheese cubes in one section of the platter.</li>
                        <li>Create sections with the olives, cherry tomatoes, cucumbers, bell peppers, and baby carrots.</li>
                        <li>Add the artichoke hearts, roasted red peppers, and dolmas (if using) to fill in gaps.</li>
                        <li>Drizzle olive oil over the vegetables and feta, then sprinkle with za'atar.</li>
                        <li>Arrange pita bread around the edges or in a basket alongside.</li>
                        <li>Garnish with fresh herbs and lemon wedges.</li>
                        <li>Serve immediately or cover and refrigerate until ready to eat (stays fresh for several hours).</li>
                    </ol>
                    
                    <div class="baby-note">
                        <strong>For baby:</strong> Offer small pieces of soft pita bread, mashed chickpeas from the hummus, small cucumber pieces (peeled), well-cooked baby carrots, and small crumbles of feta. Skip olives due to choking risk. The plain hummus works great as a dip or spread.
                    </div>
                    
                    <div class="storage-tip">
                        <strong>Storage tip:</strong> Leftovers keep well! Store each component separately in airtight containers for up to 3 days. The dips stay fresh longest. Vegetables may get less crisp but are still tasty. Perfect for next-day lunches!
                    </div>
                    
                    <div class="storage-tip" style="background-color: #fff3e0; border-left-color: #ff9800;">
                        <strong style="color: #e65100;">‚ö° Power Outage Ready:</strong> This meal requires no cooking or heating! Keep everything refrigerated until serving. If power is out for extended periods, the dips and cheese should be consumed within 4 hours at room temperature. Vegetables can stay out longer.
                    </div>
                    
                    <button class="cooking-mode-button" onclick="startCookingMode('meal1')">Start Assembly Mode</button>
                </div>
            </div>
            
            <!-- MEAL 2 -->
            <div class="meal-day" data-meal="meal2">
                <div class="meal-header" onclick="toggleMeal(this)">
                    <div>
                        <h2>Meal 2: Sheet Pan Roasted Vegetable & Halloumi Bowl</h2>
                        <div class="meal-meta">Serves 4-5 | Time: 35 minutes</div>
                    </div>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="meal-content">
                    <p>Colorful roasted vegetables with crispy, salty halloumi cheese over quinoa, drizzled with a tangy lemon-herb dressing.</p>
                    
                    <h3>Ingredients</h3>
                    <h4>For the bowl:</h4>
                    <ul>
                        <li>1¬Ω cups quinoa, uncooked</li>
                        <li>3 cups vegetable broth or water</li>
                        <li>2 packages (8 oz each) halloumi cheese, sliced ¬Ω-inch thick</li>
                        <li>1 large sweet potato, cubed</li>
                        <li>2 medium zucchini, sliced into half-moons</li>
                        <li>1 red onion, cut into wedges</li>
                        <li>2 cups cherry tomatoes</li>
                        <li>1 can (15 oz) chickpeas, drained and patted dry</li>
                        <li>3 tablespoons olive oil</li>
                        <li>2 teaspoons cumin</li>
                        <li>1 teaspoon smoked paprika</li>
                        <li>Salt and pepper</li>
                        <li>2 cups arugula or spinach</li>
                    </ul>
                    
                    <h4>For the lemon-herb dressing:</h4>
                    <ul>
                        <li>¬º cup olive oil</li>
                        <li>3 tablespoons lemon juice</li>
                        <li>2 cloves garlic, minced</li>
                        <li>2 tablespoons fresh herbs (parsley, basil, or mint), chopped</li>
                        <li>1 teaspoon Dijon mustard</li>
                        <li>Salt and pepper</li>
                    </ul>
                    
                    <h3>Instructions</h3>
                    <ol>
                        <li>Preheat oven to 425¬∞F. Start cooking quinoa according to package directions (usually 1¬Ω cups quinoa to 3 cups liquid).</li>
                        <li>On two large baking sheets, spread out the sweet potato cubes, zucchini, red onion, cherry tomatoes, and chickpeas. Toss with olive oil, cumin, smoked paprika, salt, and pepper.</li>
                        <li>Roast for 25-30 minutes, stirring halfway through, until vegetables are tender and starting to caramelize.</li>
                        <li>During the last 10 minutes of roasting, heat a non-stick skillet over medium-high heat (no oil needed - halloumi releases its own fat). Add halloumi slices and cook 2-3 minutes per side until golden brown.</li>
                        <li>While everything cooks, whisk together all dressing ingredients in a small bowl.</li>
                        <li>To serve: divide quinoa among bowls, top with arugula, roasted vegetables, chickpeas, and halloumi. Drizzle with dressing.</li>
                    </ol>
                    
                    <div class="baby-note">
                        <strong>For baby:</strong> Set aside some roasted sweet potato and zucchini before seasoning heavily. Mash or cut into small pieces. The quinoa is great for baby - serve plain or with a tiny bit of dressing. Halloumi can be cut into very small pieces, but monitor closely as it's quite salty.
                    </div>
                    
                    <div class="storage-tip">
                        <strong>Storage tip:</strong> Store components separately for best results. The quinoa and roasted vegetables keep well for 4 days. Halloumi can be stored and reheated in a skillet (it won't be as crispy but still delicious). Keep dressing separate and add when serving.
                    </div>
                    
                    <button class="cooking-mode-button" onclick="startCookingMode('meal2')">Start Cooking Mode</button>
                </div>
            </div>
            
            <!-- MEAL 3 -->
            <div class="meal-day" data-meal="meal3">
                <div class="meal-header" onclick="toggleMeal(this)">
                    <div>
                        <h2>Meal 3: Creamy Tuscan White Bean Soup</h2>
                        <div class="meal-meta">Serves 4-5 | Time: 30 minutes</div>
                    </div>
                    <span class="expand-icon">‚ñº</span>
                </div>
                <div class="meal-content">
                    <p>A hearty, comforting Italian-inspired soup with white beans, tomatoes, kale, and parmesan. Served with crusty bread for dipping.</p>
                    
                    <h3>Ingredients</h3>
                    <ul>
                        <li>2 tablespoons olive oil</li>
                        <li>1 large onion, diced</li>
                        <li>3 carrots, diced</li>
                        <li>3 celery stalks, diced</li>
                        <li>4 cloves garlic, minced</li>
                        <li>1 teaspoon dried rosemary (or 1 tablespoon fresh)</li>
                        <li>1 teaspoon dried thyme</li>
                        <li>¬º teaspoon red pepper flakes (optional)</li>
                        <li>3 cans (15 oz each) cannellini beans (white beans), drained and rinsed</li>
                        <li>1 can (28 oz) crushed tomatoes</li>
                        <li>6 cups vegetable broth</li>
                        <li>3 cups chopped kale or spinach</li>
                        <li>¬Ω cup heavy cream or half-and-half</li>
                        <li>¬Ω cup grated parmesan cheese, plus more for serving</li>
                        <li>2 tablespoons lemon juice</li>
                        <li>Salt and pepper to taste</li>
                        <li>Crusty bread for serving</li>
                    </ul>
                    
                    <h3>Instructions</h3>
                    <ol>
                        <li>Heat olive oil in a large pot or Dutch oven over medium heat. Add onion, carrots, and celery. Cook for 8-10 minutes, stirring occasionally, until vegetables soften.</li>
                        <li>Add garlic, rosemary, thyme, and red pepper flakes (if using). Cook for 1 minute until fragrant.</li>
                        <li>Add the beans, crushed tomatoes, and vegetable broth. Bring to a boil, then reduce heat and simmer for 15 minutes to let flavors meld.</li>
                        <li>Use a potato masher or the back of a wooden spoon to partially mash some of the beans in the pot (about one-third of them). This creates a creamier texture while keeping some beans whole.</li>
                        <li>Stir in the chopped kale and cook for 3-4 minutes until wilted.</li>
                        <li>Remove from heat and stir in the cream, parmesan cheese, and lemon juice. Taste and adjust seasoning with salt and pepper.</li>
                        <li>Serve hot with additional parmesan and crusty bread.</li>
                    </ol>
                    
                    <div class="baby-note">
                        <strong>For baby:</strong> This soup is naturally baby-friendly! Before adding cream and parmesan, set aside a portion. Mash the beans and vegetables more thoroughly for younger babies. The soft vegetables, beans, and broth make a nutritious, easy-to-eat meal. Serve with small pieces of soft bread for dipping.
                    </div>
                    
                    <div class="storage-tip">
                        <strong>Storage tip:</strong> This soup tastes even better the next day! Store in an airtight container for up to 5 days. It will thicken as it sits - just add a splash of broth or water when reheating. Freezes beautifully for up to 3 months.
                    </div>
                    
                    <button class="cooking-mode-button" onclick="startCookingMode('meal3')">Start Cooking Mode</button>
                </div>
            </div>
            
        </div>
        
        <!-- GROCERY LIST PAGE -->
        <div id="grocery" class="page">
            <h2 style="color: #2c5f2d; margin-bottom: 20px;">Shopping List - Week 2</h2>
            
            <div style="background-color: #e8f5e9; padding: 30px; border-radius: 8px; text-align: center;">
                <h3 style="color: #2c5f2d; margin-bottom: 15px;">üìù Your Shared Shopping List</h3>
                <p style="margin-bottom: 25px; font-size: 1.1em; line-height: 1.6;">
                    Your shopping list is in Google Sheets so you and your wife can both check off items in real-time!
                </p>
                
                <a href="https://docs.google.com/spreadsheets/d/1O-Lo_iphmyHBstILjbDVWx28iY48xdBlaH_Gd9CFUgo/edit?gid=1679216792#gid=1679216792" target="_blank" style="text-decoration: none;">
                    <button style="padding: 15px 40px; background-color: #4caf50; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1.2em; font-weight: bold; box-shadow: 0 2px 4px rgba(0,0,0,0.2);">
                        Open Shopping List in Google Sheets
                    </button>
                </a>
                
                <div style="margin-top: 30px; padding: 20px; background-color: white; border-radius: 5px; text-align: left;">
                    <h4 style="color: #2c5f2d; margin-bottom: 10px;">üí° For Week 2:</h4>
                    <p style="margin-bottom: 15px;">Create a new tab in your Google Sheet for Week 2, or update the existing list with these new ingredients.</p>
                </div>
            </div>
            
        </div>
        
    </div>
    
    <!-- COOKING MODE OVERLAY -->
    <div class="cooking-mode-overlay" id="cookingModeOverlay">
        <div class="cooking-mode-header">
            <div class="cooking-mode-title" id="cookingModeTitle">Cooking Mode</div>
            <button class="close-cooking-mode" onclick="exitCookingMode()">‚úï</button>
        </div>
        <div class="cooking-mode-progress" id="cookingModeProgress">Step 1 of 6</div>
        <div class="cooking-mode-content" id="cookingModeContent">
            <!-- Steps will be inserted here -->
        </div>
        <div class="cooking-mode-navigation">
            <button class="cooking-nav-button prev" id="prevStepBtn" onclick="prevStep()">‚Üê Previous</button>
            <button class="cooking-nav-button next" id="nextStepBtn" onclick="nextStep()">Next ‚Üí</button>
        </div>
    </div>
    
    <script>
        const recipes = {
            meal1: {
                title: "Mediterranean Mezze Platter",
                steps: [
                    {
                        ingredients: ["Large platter or cutting board"],
                        instruction: "Choose a large serving platter or cutting board as your base."
                    },
                    {
                        ingredients: [
                            "Hummus (2 containers)",
                            "Tzatziki sauce",
                            "Baba ganoush",
                            "Small bowls"
                        ],
                        instruction: "Place the three dips in small bowls and arrange them around the platter."
                    },
                    {
                        ingredients: [
                            "8 oz feta cheese, cubed"
                        ],
                        instruction: "Arrange the feta cheese cubes in one section of the platter."
                    },
                    {
                        ingredients: [
                            "1 cup kalamata olives",
                            "1 cup cherry tomatoes, halved",
                            "2 cucumbers, sliced",
                            "2 bell peppers, sliced",
                            "2 cups baby carrots"
                        ],
                        instruction: "Create sections with the olives, cherry tomatoes, cucumbers, bell peppers, and baby carrots around the platter."
                    },
                    {
                        ingredients: [
                            "8 oz artichoke hearts",
                            "1 cup roasted red peppers",
                            "1 cup dolmas (optional)"
                        ],
                        instruction: "Add the artichoke hearts, roasted red peppers, and dolmas (if using) to fill in any gaps."
                    },
                    {
                        ingredients: [
                            "¬Ω cup olive oil",
                            "2 tablespoons za'atar"
                        ],
                        instruction: "Drizzle olive oil over the vegetables and feta, then sprinkle with za'atar."
                    },
                    {
                        ingredients: [
                            "Pita bread",
                            "Fresh herbs (parsley, mint)",
                            "Lemon wedges"
                        ],
                        instruction: "Arrange pita bread around the edges or in a basket. Garnish with fresh herbs and lemon wedges. Serve immediately!"
                    }
                ]
            },
            meal2: {
                title: "Sheet Pan Roasted Vegetable & Halloumi Bowl",
                steps: [
                    {
                        ingredients: [
                            "1¬Ω cups quinoa",
                            "3 cups vegetable broth or water"
                        ],
                        instruction: "Preheat oven to 425¬∞F. Start cooking quinoa according to package directions."
                    },
                    {
                        ingredients: [
                            "1 large sweet potato, cubed",
                            "2 zucchini, sliced",
                            "1 red onion, cut into wedges",
                            "2 cups cherry tomatoes",
                            "1 can chickpeas, drained",
                            "3 tablespoons olive oil",
                            "2 teaspoons cumin",
                            "1 teaspoon smoked paprika",
                            "Salt and pepper"
                        ],
                        instruction: "On two large baking sheets, spread out the vegetables and chickpeas. Toss with olive oil, cumin, smoked paprika, salt, and pepper."
                    },
                    {
                        ingredients: ["Prepared vegetables"],
                        instruction: "Roast for 25-30 minutes, stirring halfway through, until vegetables are tender and starting to caramelize."
                    },
                    {
                        ingredients: ["2 packages (8 oz each) halloumi, sliced"],
                        instruction: "During the last 10 minutes, heat a non-stick skillet over medium-high heat. Cook halloumi slices 2-3 minutes per side until golden brown."
                    },
                    {
                        ingredients: [
                            "¬º cup olive oil",
                            "3 tablespoons lemon juice",
                            "2 cloves garlic, minced",
                            "2 tablespoons fresh herbs, chopped",
                            "1 teaspoon Dijon mustard",
                            "Salt and pepper"
                        ],
                        instruction: "While everything cooks, whisk together all dressing ingredients in a small bowl."
                    },
                    {
                        ingredients: [
                            "Cooked quinoa",
                            "2 cups arugula or spinach",
                            "Roasted vegetables and chickpeas",
                            "Cooked halloumi",
                            "Dressing"
                        ],
                        instruction: "Divide quinoa among bowls, top with arugula, roasted vegetables, chickpeas, and halloumi. Drizzle with dressing and serve."
                    }
                ]
            },
            meal3: {
                title: "Creamy Tuscan White Bean Soup",
                steps: [
                    {
                        ingredients: [
                            "2 tablespoons olive oil",
                            "1 large onion, diced",
                            "3 carrots, diced",
                            "3 celery stalks, diced"
                        ],
                        instruction: "Heat olive oil in a large pot over medium heat. Add onion, carrots, and celery. Cook for 8-10 minutes until vegetables soften."
                    },
                    {
                        ingredients: [
                            "4 cloves garlic, minced",
                            "1 teaspoon dried rosemary",
                            "1 teaspoon dried thyme",
                            "¬º teaspoon red pepper flakes (optional)"
                        ],
                        instruction: "Add garlic, rosemary, thyme, and red pepper flakes. Cook for 1 minute until fragrant."
                    },
                    {
                        ingredients: [
                            "3 cans cannellini beans",
                            "1 can (28 oz) crushed tomatoes",
                            "6 cups vegetable broth"
                        ],
                        instruction: "Add beans, crushed tomatoes, and vegetable broth. Bring to a boil, then reduce heat and simmer for 15 minutes."
                    },
                    {
                        ingredients: ["Potato masher or wooden spoon"],
                        instruction: "Use a potato masher to partially mash about one-third of the beans in the pot. This creates a creamier texture."
                    },
                    {
                        ingredients: ["3 cups chopped kale or spinach"],
                        instruction: "Stir in the kale and cook for 3-4 minutes until wilted."
                    },
                    {
                        ingredients: [
                            "¬Ω cup heavy cream",
                            "¬Ω cup grated parmesan",
                            "2 tablespoons lemon juice",
                            "Salt and pepper"
                        ],
                        instruction: "Remove from heat. Stir in cream, parmesan, and lemon juice. Taste and adjust seasoning."
                    },
                    {
                        ingredients: [
                            "Extra parmesan",
                            "Crusty bread"
                        ],
                        instruction: "Serve hot with additional parmesan and crusty bread for dipping."
                    }
                ]
            }
        };
        
        let currentRecipe = null;
        let currentStepIndex = 0;
        
        function startCookingMode(mealId) {
            currentRecipe = recipes[mealId];
            currentStepIndex = 0;
            
            const overlay = document.getElementById('cookingModeOverlay');
            overlay.classList.add('active');
            
            document.getElementById('cookingModeTitle').textContent = currentRecipe.title;
            
            renderStep();
            
            document.body.style.overflow = 'hidden';
        }
        
        function exitCookingMode() {
            const overlay = document.getElementById('cookingModeOverlay');
            overlay.classList.remove('active');
            currentRecipe = null;
            currentStepIndex = 0;
            
            document.body.style.overflow = 'auto';
        }
        
        function renderStep() {
            if (!currentRecipe) return;
            
            const step = currentRecipe.steps[currentStepIndex];
            const totalSteps = currentRecipe.steps.length;
            
            document.getElementById('cookingModeProgress').textContent = 
                `Step ${currentStepIndex + 1} of ${totalSteps}`;
            
            let stepHTML = '<div class="cooking-step active">';
            
            if (step.ingredients.length > 0) {
                stepHTML += '<div class="step-ingredients">';
                stepHTML += '<h3>Ingredients for this step:</h3>';
                stepHTML += '<ul>';
                step.ingredients.forEach(ingredient => {
                    stepHTML += `<li>${ingredient}</li>`;
                });
                stepHTML += '</ul>';
                stepHTML += '</div>';
            }
            
            stepHTML += `<div class="step-instruction">${step.instruction}</div>`;
            stepHTML += '</div>';
            
            document.getElementById('cookingModeContent').innerHTML = stepHTML;
            
            document.getElementById('prevStepBtn').disabled = currentStepIndex === 0;
            
            const nextBtn = document.getElementById('nextStepBtn');
            if (currentStepIndex === totalSteps - 1) {
                nextBtn.textContent = 'Done ‚úì';
            } else {
                nextBtn.textContent = 'Next ‚Üí';
            }
        }
        
        function nextStep() {
            if (!currentRecipe) return;
            
            if (currentStepIndex < currentRecipe.steps.length - 1) {
                currentStepIndex++;
                renderStep();
            } else {
                exitCookingMode();
            }
        }
        
        function prevStep() {
            if (!currentRecipe) return;
            
            if (currentStepIndex > 0) {
                currentStepIndex--;
                renderStep();
            }
        }
        
        let touchStartX = 0;
        let touchEndX = 0;
        
        document.getElementById('cookingModeContent').addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });
        
        document.getElementById('cookingModeContent').addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });
        
        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    nextStep();
                } else {
                    prevStep();
                }
            }
        }
        
        function toggleMeal(header) {
            const mealDay = header.parentElement;
            mealDay.classList.toggle('expanded');
        }
        
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            document.querySelectorAll('.nav-button').forEach(button => {
                button.classList.remove('active');
            });
            
            document.getElementById(pageId).classList.add('active');
            
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
